<!DOCTYPE html>
<html>
<head>
    <title>Start Order</title>
        <title>Your Page Title</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Start Your Order</h1>

    <div class="customer-form">
        <h2>New Customer</h2>
        <form method="post" action="/start_order">
            <input type="hidden" name="type" value="new">
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="street_address">Street Address:</label>
                <input type="text" id="street_address" name="street_address" required>
            </div>
            <div class="form-group">
                <label for="city">City:</label>
                <input type="text" id="city" name="city" required>
            </div>
            <div class="form-group">
                <label for="state">State:</label>
                <input type="text" id="state" name="state" required>
            </div>
            <div class="form-group">
                <label for="zip_code">Zip Code:</label>
                <input type="text" id="zip_code" name="zip_code" required>
            </div>
            <div class="form-group">
                <label for="phone_number">Phone Number:</label>
                <input type="text" id="phone_number" name="phone_number" placeholder="(201) 555-1234" required>
            </div>
            <div class="form-group">
                <input type="submit" value="Continue">
            </div>
        </form>
    </div>

    <div class="customer-form">
        <h2>Returning Customer</h2>
        <form method="post" action="/start_order">
            <input type="hidden" name="type" value="existing">
            <div class="form-group">
                <label for="search_by">Search by:</label>
                <select id="search_by" name="search_by" onchange="toggleCustomerSearch()">
                    <option value="name">Name</option>
                    <option value="id">Customer ID</option>
                </select>
            </div>
            <div class="form-group" id="name_search">
                <label for="name_search_input">Enter Name:</label>
                <input type="text" id="name_search_input" name="name" placeholder="Enter full or partial name">
            </div>
            <div class="form-group" id="id_search" style="display: none;">
                <label for="customer_id">Enter Customer ID:</label>
                <input type="number" id="customer_id" name="customer_id" placeholder="Enter your customer ID">
            </div>
            <div class="form-group">
                <input type="submit" value="Continue">
            </div>
        </form>
    </div>

    {% if customers %}
    <div class="customer-list">
        <h2>Existing Customers</h2>
        <p>Select your customer ID from the list below:</p>
        <table border="1" cellpadding="5">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Phone</th>
                <th>Action</th>
            </tr>
            {% for customer in customers %}
            <tr>
                <td>{{ customer.customer_id }}</td>
                <td>{{ customer.name }}</td>
                <td>{{ customer.phone_number }}</td>
                <td>
                    <form method="post" action="/start_order">
                        <input type="hidden" name="type" value="existing">
                        <input type="hidden" name="search_by" value="id">
                        <input type="hidden" name="customer_id" value="{{ customer.customer_id }}">
                        <input type="submit" value="Select">
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
    {% endif %}

    <p><a href="/">Back to Home</a></p>

    <script>
        function toggleCustomerSearch() {
            const searchBy = document.getElementById('search_by').value;
            if (searchBy === 'name') {
                document.getElementById('name_search').style.display = 'block';
                document.getElementById('id_search').style.display = 'none';
            } else {
                document.getElementById('name_search').style.display = 'none';
                document.getElementById('id_search').style.display = 'block';
            }
        }
    </script>
</body>
</html>
